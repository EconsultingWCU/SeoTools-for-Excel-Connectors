<?xml version="1.0" encoding="utf-8" ?>
<Suite Title="Facebook Ads" RequireVersion="6.0.0" Id="FacebookAds" Category="Social" SourceUrl="https://github.com/nielsbosma/SeoTools-for-Excel-Connectors/blob/master/FacebookAds.xml" HelpUrl="http://seotoolsforexcel.com/FacebookAds/" HelpText="Documentation">

  <Author Name="Victor" Url="http://community.seotoolsforexcel.com/users/diskborste/activity"/>

  <Resources>
    <Resource Id="TimeIntervals">
			<Item Id="today" Title="Today"/>
			<Item Id="yesterday" Title="Yesterday"/>
			<Item Id="last_3_days" Title="Last 3 Days"/>
			<Item Id="last_week" Title="Last Week"/>
			<Item Id="last_7_days" Title="Last 7 Days"/>
			<Item Id="last_14_days" Title="Last 14 Days"/>
			<Item Id="last_28_days" Title="Last 28 Days"/>
			<Item Id="last_30_days" Title="Last 30 Days"/>
			<Item Id="last_90_days" Title="Last 90 Days"/>
			<Item Id="this_month" Title="This Month"/>
			<Item Id="last_month" Title="Last Month"/>
			<Item Id="this_quarter" Title="This Quarter"/>
			<Item Id="last_3_months" Title="Last 3 Months"/>
			<Item Id="lifetime" Title="Lifetime"/>
    </Resource>

    <Resource Id="Sortings">
			<Item Id="impressions" Title="Impressions"/>
			<Item Id="reach" Title="Reach"/>
			<Item Id="spend" Title="Spent"/>
			<Item Id="clicks" Title="Clicks"/>
			<Item Id="website_clicks" Title="Website Clicks"/>
			<Item Id="app_store_clicks" Title="App Store Clicks"/>
			<Item Id="social_impressions" Title="Social Impressions"/>
			<Item Id="social_reach" Title="Social Reach"/>
			<Item Id="social_clicks" Title="Social Clicks"/>
			<Item Id="total_actions" Title="Actions"/>
			<Item Id="total_action_value" Title="Actions Value"/>
			<Item Id="cost_per_total_action" Title="Cost per Action"/>
			<Item Id="cpc" Title="CPC"/>
			<Item Id="frequency" Title="Frequency"/>
    </Resource>			

    <Resource Id="Type">
			<Item Id="impression_device" Title="Device"/>
			<Item Id="age" Title="Age"/>
			<Item Id="gender" Title="Gender"/>
    </Resource>			
  </Resources>	
	
  <Settings HelpText="What's this?" HelpUrl="http://seotoolsforexcel.com/FacebookAds/">
    <Text Id="AccessToken" Title="Access Token" Required="true" HelpUrl="http://seotoolsforexcel.com/FacebookAds"/>
  </Settings>

  <RestConnector Id="ListAccounts" Title="List Accounts" Hidden="false">
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/me/adaccounts?
			fields=name,account_id,balance
		  &access_token=@(Model.AccessToken)			
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="account_id" Id="AccountId" Title="Account Id" Converter="String" HelpText=""/>
        <JsonPath Expr="name" Id="Name" Title="Name" Converter="String" HelpText=""/>
        <JsonPath Expr="balance" Id="Balance" Title="Balance" Converter="Double" HelpText=""/>
				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="error.message"/>
    </Fail>
  </RestConnector>

  <RestConnector Id="ListCampaigns" Title="List Campaigns" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
    </Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/act_@(Model.AccountId)/campaigns?
			fields=@SelectedFields()
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="id" Id="CampaignId" Title="Campaign Id" Tag="id" Converter="String" HelpText=""/>			
        <JsonPath Expr="name" Id="Name" Title="Name" Tag="name" Converter="String" HelpText=""/>			
        <JsonPath Expr="effective_status" Id="Status" Title="Status" Tag="effective_status" Converter="String" HelpText=""/>
        <JsonPath Expr="created_time" Id="Created" Title="Created" Tag="created_time" Converter="DateTime" HelpText=""/>
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="ListAdsets" Title="List Adsets" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="CampaignFilter" Title="Filter by Campaign" DefaultValue="" Required="false" Debug.DefaultValue="" Select.Connector="ListCampaigns" Select.IdField="CampaignId" Select.TitleField="Name"/>
    </Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/
        @if(Model.CampaignFilter != "")
        {
          @(Model.CampaignFilter)
        }			
				else
				{
          @: act_@(Model.AccountId)
        }	
			/adsets?
			fields=@SelectedFields()
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="id" Id="AdsetId" Title="Adset Id" Tag="id" Converter="String" HelpText=""/>			
        <JsonPath Expr="name" Id="Name" Title="Name" Tag="name" Converter="String" HelpText=""/>			
        <JsonPath Expr="effective_status" Id="Status" Title="Status" Tag="effective_status" Converter="String" HelpText=""/>
        <JsonPath Expr="lifetime_budget" Id="Budget" Title="Budget" Tag="lifetime_budget" Converter="Double" HelpText=""/>
        <JsonPath Expr="budget_remaining" Id="BudgetRemaining" Title="Budget Remaining" Tag="budget_remaining" Converter="Double" HelpText=""/>
        <JsonPath Expr="billing_event" Id="BillingEvent" Title="Billing Event" Tag="billing_event" Converter="String" HelpText=""/>
        <JsonPath Expr="created_time" Id="Created" Title="Created" Tag="created_time" Converter="DateTime" HelpText=""/>
        <JsonPath Expr="end_time" Id="EndTime" Title="End Time" Tag="end_time" Converter="DateTime" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="ListAdsetsHidden" Hidden="true">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
    </Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/
			act_@(Model.AccountId)
			/adsets?
			fields=id,name
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="id" Id="AdsetId" Title="Adset Id" Tag="id" Converter="String" HelpText=""/>			
        <JsonPath Expr="name" Id="Name" Title="Name" Tag="name" Converter="String" HelpText=""/>					
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="ListAds" Title="List Ads" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="CampaignFilter" Title="Filter by Campaign" DefaultValue="" Required="false" Debug.DefaultValue="" Select.Connector="ListCampaigns" Select.IdField="CampaignId" Select.TitleField="Name"/>
			<Text Id="AdsetFilter" Title="Filter by Adset" DefaultValue="" Required="false" Debug.DefaultValue="" Select.Connector="ListAdsets" Select.IdField="AdsetId" Select.TitleField="Name"/>
    </Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/
        @if(Model.AdsetFilter != "")
        {
          @(Model.AdsetFilter)
        }			
				else if(Model.CampaignFilter != "")
				{
          @(Model.CampaignFilter)
        }
				else				
				{
          @: act_@(Model.AccountId)
        }				
			/ads?
			fields=@SelectedFields()
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="id" Id="AdId" Title="Ad Id" Tag="id" Converter="String" HelpText=""/>			
        <JsonPath Expr="name" Id="Name" Title="Name" Tag="name" Converter="String" HelpText=""/>
        <JsonPath Expr="created_time" Id="Created" Title="Created" Tag="created_time" Converter="DateTime" HelpText=""/>
        <JsonPath Expr="effective_status" Id="Status" Title="Status" Tag="effective_status" Converter="String" HelpText=""/>
        <JsonPath Expr="adset.id" Id="AdsetId" Title="Adset Id" Tag="adset" Converter="String" HelpText=""/>
        <JsonPath Expr="campaign.id" Id="CampaignId" Title="Campaign Id" Tag="campaign" Converter="String" HelpText=""/>			
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="ListAdsHidden" Hidden="true">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
    </Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/act_@(Model.AccountId)
			/ads?
			fields=id,name
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="id" Id="AdId" Title="Ad Id" Tag="id" Converter="String" HelpText=""/>			
        <JsonPath Expr="name" Id="Name" Title="Name" Tag="name" Converter="String" HelpText=""/>		
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>	

  <RestConnector Id="AccountStatistics" Title="Account Statistics" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>			
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/act_@(Model.AccountId)/insights?
			fields=@SelectedFields()			
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="String" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_spend" Id="SocialSpent" Title="Social Spent" Tag="social_spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>


  <RestConnector Id="AccountStatisticsBreakdown" Title="Account Statistics Breakdown" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
      <Select Id="Type" Title="Select Method or Demography" Required="true" DefaultValue="impression_device">
        <DataSource>
          <Resource Id="Type"/>
        </DataSource>
      </Select>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>	
      <Select Id="Sort" Title="Sort" Required="true" DefaultValue="impressions">
        <DataSource>
          <Resource Id="Sortings"/>
        </DataSource>
      </Select>
      <Radio Id="Direction" Title="Direction" DefaultValue="desc" Required="true">
        <DataSource>
          <Item Id="descending" Title="Descending"/>
          <Item Id="ascending" Title="Ascending"/>
        </DataSource>
      </Radio>			
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/act_@(Model.AccountId)/insights?
			fields=@SelectedFields().Substring(1)
			&breakdowns=@(Model.Type)
		  &sort=@(Model.Sort)
			_
			@(Model.Direction)			
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="@(Model.Type)" Id="Category" Title="Category" Converter="String" HelpText=""/>		
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="Int" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>	

  <RestConnector Id="AccountStatisticsGenderAge" Title="Account Statistics by Gender/Age" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>	
      <Select Id="Sort" Title="Sort" Required="true" DefaultValue="impressions">
        <DataSource>
          <Resource Id="Sortings"/>
        </DataSource>
      </Select>
      <Radio Id="Direction" Title="Direction" DefaultValue="desc" Required="true">
        <DataSource>
          <Item Id="descending" Title="Descending"/>
          <Item Id="ascending" Title="Ascending"/>
        </DataSource>
      </Radio>			
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/act_@(Model.AccountId)/insights?
			fields=@SelectedFields().Substring(1)
			&breakdowns=gender,age
		  &sort=@(Model.Sort)
			_
			@(Model.Direction)		
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <Compute Id="Category" Title="Category">
          <Compute.Expr>
            @(Model.Gender) - @(Model.AgeGroup)
          </Compute.Expr>
          <JsonPath Expr="gender" Id="Gender" Converter="String"/>
          <JsonPath Expr="age" Id="AgeGroup" Converter="String"/>
        </Compute>
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="Int" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="CampaignStatistics" Title="Campaign Statistics" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="CampaignId" Title="Campaign Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461710669" Select.Connector="ListCampaigns" Select.IdField="CampaignId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>	
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.CampaignId)/insights?
			fields=@SelectedFields()		
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="String" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_spend" Id="SocialSpent" Title="Social Spent" Tag="social_spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>


  <RestConnector Id="CampaignStatisticsBreakdown" Title="Campaign Statistics Breakdown" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="CampaignId" Title="Campaign Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461710669" Select.Connector="ListCampaigns" Select.IdField="CampaignId" Select.TitleField="Name"/>
      <Select Id="Type" Title="Select Method or Demography" Required="true" DefaultValue="impression_device">
        <DataSource>
          <Resource Id="Type"/>
        </DataSource>
      </Select>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>	
      <Select Id="Sort" Title="Sort" Required="true" DefaultValue="impressions">
        <DataSource>
          <Resource Id="Sortings"/>
        </DataSource>
      </Select>
      <Radio Id="Direction" Title="Direction" DefaultValue="desc" Required="true">
        <DataSource>
          <Item Id="descending" Title="Descending"/>
          <Item Id="ascending" Title="Ascending"/>
        </DataSource>
      </Radio>			
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.CampaignId)/insights?
			fields=@SelectedFields().Substring(1)
			&breakdowns=@(Model.Type)
		  &sort=@(Model.Sort)
			_
			@(Model.Direction)			
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="@(Model.Type)" Id="Category" Title="Category" Converter="String" HelpText=""/>		
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="Int" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="CampaignStatisticsGenderAge" Title="Campaign Statistics by Gender/Age" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="CampaignId" Title="Campaign Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461710669" Select.Connector="ListCampaigns" Select.IdField="CampaignId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>	
      <Select Id="Sort" Title="Sort" Required="true" DefaultValue="impressions">
        <DataSource>
          <Resource Id="Sortings"/>
        </DataSource>
      </Select>
      <Radio Id="Direction" Title="Direction" DefaultValue="desc" Required="true">
        <DataSource>
          <Item Id="descending" Title="Descending"/>
          <Item Id="ascending" Title="Ascending"/>
        </DataSource>
      </Radio>			
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.CampaignId)/insights?
			fields=@SelectedFields().Substring(1)
			&breakdowns=gender,age
		  &sort=@(Model.Sort)
			_
			@(Model.Direction)		
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <Compute Id="Category" Title="Category">
          <Compute.Expr>
            @(Model.Gender) - @(Model.AgeGroup)
          </Compute.Expr>
          <JsonPath Expr="gender" Id="Gender" Converter="String"/>
          <JsonPath Expr="age" Id="AgeGroup" Converter="String"/>
        </Compute>
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="Int" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="AdsetStatistics" Title="Adset Statistics" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="AdsetId" Title="Adset Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461711469" Select.Connector="ListAdsetsHidden" Select.IdField="AdsetId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>			
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.AdsetId)/insights?
			fields=@SelectedFields()			
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="String" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_spend" Id="SocialSpent" Title="Social Spent" Tag="social_spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="AdsetStatisticsBreakdown" Title="Adset Statistics Breakdown" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="AdsetId" Title="Adset Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461711469" Select.Connector="ListAdsetsHidden" Select.IdField="AdsetId" Select.TitleField="Name"/>
      <Select Id="Type" Title="Select Method or Demography" Required="true" DefaultValue="impression_device">
        <DataSource>
          <Resource Id="Type"/>
        </DataSource>
      </Select>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>	
      <Select Id="Sort" Title="Sort" Required="true" DefaultValue="impressions">
        <DataSource>
          <Resource Id="Sortings"/>
        </DataSource>
      </Select>
      <Radio Id="Direction" Title="Direction" DefaultValue="desc" Required="true">
        <DataSource>
          <Item Id="descending" Title="Descending"/>
          <Item Id="ascending" Title="Ascending"/>
        </DataSource>
      </Radio>			
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.AdsetId)/insights?
			fields=@SelectedFields().Substring(1)
			&breakdowns=@(Model.Type)
		  &sort=@(Model.Sort)
			_
			@(Model.Direction)			
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="@(Model.Type)" Id="Category" Title="Category" Converter="String" HelpText=""/>		
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="Int" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>	

  <RestConnector Id="AdsetStatisticsGenderAge" Title="Adset Statistics by Gender/Age" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="AdsetId" Title="Adset Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461711469" Select.Connector="ListAdsetsHidden" Select.IdField="AdsetId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>	
      <Select Id="Sort" Title="Sort" Required="true" DefaultValue="impressions">
        <DataSource>
          <Resource Id="Sortings"/>
        </DataSource>
      </Select>
      <Radio Id="Direction" Title="Direction" DefaultValue="desc" Required="true">
        <DataSource>
          <Item Id="descending" Title="Descending"/>
          <Item Id="ascending" Title="Ascending"/>
        </DataSource>
      </Radio>			
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.AdsetId)/insights?
			fields=@SelectedFields().Substring(1)
			&breakdowns=gender,age
		  &sort=@(Model.Sort)
			_
			@(Model.Direction)		
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <Compute Id="Category" Title="Category">
          <Compute.Expr>
            @(Model.Gender) - @(Model.AgeGroup)
          </Compute.Expr>
          <JsonPath Expr="gender" Id="Gender" Converter="String"/>
          <JsonPath Expr="age" Id="AgeGroup" Converter="String"/>
        </Compute>
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="Int" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="AdStatistics" Title="Ad Statistics" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="AdId" Title="Ad Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461712869" Select.Connector="ListAdsHidden" Select.IdField="AdId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>		
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.AdId)/insights?
			fields=@SelectedFields()		
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="String" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_spend" Id="SocialSpent" Title="Social Spent" Tag="social_spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="AdStatisticsBreakdown" Title="Ad Statistics Breakdown" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="AdId" Title="Ad Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461712869" Select.Connector="ListAdsHidden" Select.IdField="AdId" Select.TitleField="Name"/>
      <Select Id="Type" Title="Select Method or Demography" Required="true" DefaultValue="impression_device">
        <DataSource>
          <Resource Id="Type"/>
        </DataSource>
      </Select>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>	
      <Select Id="Sort" Title="Sort" Required="true" DefaultValue="impressions">
        <DataSource>
          <Resource Id="Sortings"/>
        </DataSource>
      </Select>
      <Radio Id="Direction" Title="Direction" DefaultValue="desc" Required="true">
        <DataSource>
          <Item Id="descending" Title="Descending"/>
          <Item Id="ascending" Title="Ascending"/>
        </DataSource>
      </Radio>			
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.AdId)/insights?
			fields=@SelectedFields().Substring(1)
			&breakdowns=@(Model.Type)
		  &sort=@(Model.Sort)
			_
			@(Model.Direction)			
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <JsonPath Expr="@(Model.Type)" Id="Category" Title="Category" Converter="String" HelpText=""/>		
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="Int" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>	

  <RestConnector Id="AdStatisticsGenderAge" Title="Ad Statistics by Gender/Age" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="AdId" Title="Ad Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461712869" Select.Connector="ListAdsHidden" Select.IdField="AdId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>	
      <Select Id="Sort" Title="Sort" Required="true" DefaultValue="impressions">
        <DataSource>
          <Resource Id="Sortings"/>
        </DataSource>
      </Select>
      <Radio Id="Direction" Title="Direction" DefaultValue="desc" Required="true">
        <DataSource>
          <Item Id="descending" Title="Descending"/>
          <Item Id="ascending" Title="Ascending"/>
        </DataSource>
      </Radio>		
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.AdId)/insights?
			fields=@SelectedFields().Substring(1)
			&breakdowns=gender,age
		  &sort=@(Model.Sort)
			_
			@(Model.Direction)		
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.*">
        <Compute Id="Category" Title="Category">
          <Compute.Expr>
            @(Model.Gender) - @(Model.AgeGroup)
          </Compute.Expr>
          <JsonPath Expr="gender" Id="Gender" Converter="String"/>
          <JsonPath Expr="age" Id="AgeGroup" Converter="String"/>
        </Compute>
        <JsonPath Expr="impressions" Id="Impressions" Title="Impressions" Converter="Int" Tag="impressions" HelpText=""/>			
        <JsonPath Expr="reach" Id="Reach" Title="Reach" Tag="reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="spend" Id="Spent" Title="Spent" Tag="spend" Converter="Int" HelpText=""/>
        <JsonPath Expr="clicks" Id="Clicks" Title="Clicks" Tag="clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="website_clicks" Id="WebsiteClicks" Title="Website Clicks" Tag="website_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="app_store_clicks" Id="AppStoreClicks" Title="App Store Clicks" Tag="app_store_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_impressions" Id="SocialImpressions" Title="Social Impressions" Tag="social_impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_reach" Id="SocialReach" Title="Social Reach" Tag="social_reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="social_clicks" Id="SocialClicks" Title="Social Clicks" Tag="social_clicks" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_actions" Id="Actions" Title="Actions" Tag="total_actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="total_action_value" Id="ActionsValue" Title="Actions Value" Tag="total_action_value" Converter="Int" HelpText=""/>
        <JsonPath Expr="cost_per_total_action" Id="CostPerAction" Title="Cost per Action" Tag="cost_per_total_action" Converter="Int" HelpText=""/>				
        <JsonPath Expr="cpc" Id="CPC" Title="CPC" Tag="cpc" Converter="Double" HelpText=""/>
        <JsonPath Expr="frequency" Id="Frequency" Title="Frequency" Tag="frequency" Converter="Double" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

 <RestConnector Id="AdBidsStatistics" Title="Ad Bids Statistics" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="AdId" Title="Ad Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461712869" Select.Connector="ListAdsHidden" Select.IdField="AdId" Select.TitleField="Name"/>		
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.AdId)/reachestimate?
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="data.bid_estimations[*].curve[*]">
        <JsonPath Expr="bid" Id="Bid" Title="Bid" Converter="Int" HelpText=""/>
        <JsonPath Expr="overall_point.spend" Id="OverallSpent" Title="Overall Spent" Converter="Int" HelpText=""/>
        <JsonPath Expr="overall_point.reach" Id="OverallReach" Title="Overall Reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="overall_point.impressions" Id="OverallImpressions" Title="Overall Impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="overall_point.actions" Id="OverallActions" Title="Overall Actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="home_feed_point.spend" Id="HomefeedSpent" Title="Homefeed Spent" Converter="Int" HelpText=""/>
        <JsonPath Expr="home_feed_point.reach" Id="HomefeedReach" Title="Homefeed Reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="home_feed_point.impressions" Id="HomefeedImpressions" Title="Homefeed Impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="home_feed_point.actions" Id="HomefeedActions" Title="Homefeed Actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="mobile_feed_point.spend" Id="MobilefeedSpent" Title="Mobilefeed Spent" Converter="Int" HelpText=""/>
        <JsonPath Expr="mobile_feed_point.reach" Id="MobilefeedReach" Title="Mobilefeed Reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="mobile_feed_point.impressions" Id="MobilefeedImpressions" Title="Mobilefeed Impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="mobile_feed_point.actions" Id="MobilefeedActions" Title="Mobilefeed Actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="instagram_point.spend" Id="InstagramSpent" Title="Instagram Spent" Converter="Int" HelpText=""/>
        <JsonPath Expr="instagram_point.reach" Id="InstagramReach" Title="Instagram Reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="instagram_point.impressions" Id="Instagrammpressions" Title="Instagram Impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="instagram_point.actions" Id="InstagramActions" Title="Instagram Actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="rhc_point.spend" Id="RHCSpent" Title="RHC Spent" Converter="Int" HelpText=""/>
        <JsonPath Expr="rhc_point.reach" Id="RHCeach" Title="RHC Reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="rhc_point.impressions" Id="RHCmpressions" Title="RHC Impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="rhc_point.actions" Id="RHCActions" Title="RHC Actions" Converter="Int" HelpText=""/>
        <JsonPath Expr="audience_network_point.spend" Id="AudienceNetworkSpent" Title="Audience Network Spent" Converter="Int" HelpText=""/>
        <JsonPath Expr="audience_network_point.reach" Id="AudienceNetworkReach" Title="Audience Network Reach" Converter="Int" HelpText=""/>
        <JsonPath Expr="audience_network_point.impressions" Id="AudienceNetworkImpressions" Title="Audience Network Impressions" Converter="Int" HelpText=""/>
        <JsonPath Expr="audience_network_point.actions" Id="AudienceNetworkActions" Title="Audience Network Actions" Converter="Int" HelpText=""/>				
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

 <RestConnector Id="AdBidsSummary" Title="Ad Bids Summary" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="AdId" Title="Ad Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461712869" Select.Connector="ListAdsHidden" Select.IdField="AdId" Select.TitleField="Name"/>		
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.AdId)/reachestimate?
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
		  <JsonPath Expr="data.users" Id="Users" Title="Users" Converter="Int" HelpText=""/>			
      <JsonPath Expr="data.bid_estimations[*]">		
				<JsonPath Expr="account_budget" Id="AccountBudget" Title="Account Budget" Converter="Int" HelpText=""/>
				<JsonPath Expr="bid_amount_min" Id="MinBidAmount" Title="MinBid Amount" Converter="Int" HelpText=""/>				
				<JsonPath Expr="bid_amount_median" Id="MedBidAmount" Title="MedBid Amount" Converter="Int" HelpText=""/>
				<JsonPath Expr="bid_amount_max" Id="MaxBidAmount" Title="MaxBid Amount" Converter="Int" HelpText=""/>
				<JsonPath Expr="reach_min" Id="MinReach" Title="MinReach" Converter="Int" HelpText=""/>				
				<JsonPath Expr="reach_max" Id="MaxReach" Title="MaxReach" Converter="Int" HelpText=""/>
				<JsonPath Expr="dedup_winning_rate" Id="DedupWinRate" Title="Dedup Winrate" Converter="Int" HelpText=""/>				
				<JsonPath Expr="dedup_status" Id="DedupStatus" Title="Dedup Status" Converter="Int" HelpText=""/>
				<JsonPath Expr="pacing_status" Id="PacingStatus" Title="Pacing Status" Converter="Int" HelpText=""/>				
				<JsonPath Expr="estimate_DAU" Id="EstimatedDAU" Title="Estimated DAU" Converter="Int" HelpText=""/>	
			</JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

 <RestConnector Id="AdSentenceLines" Title="Ad Targeting Sentence Lines" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="AdId" Title="Ad Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461712869" Select.Connector="ListAdsHidden" Select.IdField="AdId" Select.TitleField="Name"/>		
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.AdId)/targetingsentencelines?
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>		
      <JsonPath Expr="targetingsentencelines[*]">		
				<JsonPath Expr="content" Id="Content" Title="Content" Converter="String" HelpText=""/>
				<JsonPath Expr="children" Id="ChildrenArray" Title="Children Array" Converter="String" HelpText=""/>
				
			</JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

 <RestConnector Id="AccountActivities" Title="Account Activities" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
      <Text Id="Since" Title="Since (default 7 days prior)" DefaultValue="" Required="false" Debug.DefaultValue=""/>
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/act_@(Model.AccountId)/activities?
			@if(Model.Since != "")
			{
			@: since=@(Model.Since)
		  }
			&fields=@SelectedFields()
			&access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>		
      <JsonPath Expr="data[*]">		
				<JsonPath Expr="event_time" Id="Time" Title="Time" Tag="event_time" Converter="DateTime" HelpText=""/>
				<JsonPath Expr="translated_event_type" Id="Event" Title="Event" Tag="translated_event_type" Converter="String" HelpText=""/>				
				<JsonPath Expr="actor_name" Id="User" Title="User" Tag="actor_name" Converter="String" HelpText=""/>
			</JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

 <RestConnector Id="AccountAdCreatives" Title="Account Ad Creatives" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/act_@(Model.AccountId)/adcreatives?
			&fields=@SelectedFields().Substring(1)
			&access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>		
      <JsonPath Expr="data[*]">	
				<JsonPath Expr="id" Id="Id" Title="Id" Converter="String" HelpText=""/>
				<JsonPath Expr="title" Id="Title" Title="Title" Tag="title" Converter="String" HelpText=""/>				
				<JsonPath Expr="object_url" Id="ObjectUrl" Title="Object URL" Tag="object_url" Converter="String" HelpText=""/>
				<JsonPath Expr="thumbnail_url" Id="ThumbnailUrl" Title="Thumbnail URL" Tag="thumbnail_url" Converter="String" HelpText=""/>
				<JsonPath Expr="run_status" Id="RunStatus" Title="Run Status" Tag="run_status" Converter="String" HelpText=""/>				
			</JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

 <RestConnector Id="AccountImages" Title="Account Images" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/act_@(Model.AccountId)/adimages?
			&fields=@SelectedFields().Substring(1)
			&access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>		
      <JsonPath Expr="data[*]">	
				<JsonPath Expr="id" Id="Id" Title="Id" Converter="String" HelpText=""/>
				<JsonPath Expr="name" Id="Name" Title="Name" Tag="name" Converter="String" HelpText=""/>				
				<JsonPath Expr="status" Id="Status" Title="Status" Tag="status" Converter="String" HelpText=""/>
				<JsonPath Expr="permalink_url" Id="Permalink" Title="Permalink" Tag="permalink_url" Converter="String" HelpText=""/>
				<JsonPath Expr="original_height" Id="OriginalHeight" Title="Original Height" Tag="original_height" Converter="String" HelpText=""/>
				<JsonPath Expr="original_width" Id="OriginalWidth" Title="Original Width" Tag="original_width" Converter="String" HelpText=""/>				
			</JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>		

  <RestConnector Id="AccountActionTypes" Title="Account Actions Breakdown" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>
      <Radio Id="Unique" Title="Action Type" DefaultValue="actions" Required="true">
        <DataSource>
          <Item Id="actions" Title="Total"/>
          <Item Id="unique_actions" Title="Unique"/>
        </DataSource>
      </Radio>
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/act_@(Model.AccountId)/insights?
			fields=@(Model.Unique)
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="$..@(Model.Unique).*">
        <JsonPath Expr="action_type" Id="Type" Title="Type" Converter="String" HelpText=""/>			
        <JsonPath Expr="value" Id="Actions" Title="Actions" Converter="Int" HelpText=""/>
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="CampaignActionTypes" Title="Campaign Actions Breakdown" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="CampaignId" Title="Campaign Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461711469" Select.Connector="ListCampaigns" Select.IdField="CampaignId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>
      <Radio Id="Unique" Title="Action Type" DefaultValue="actions" Required="true">
        <DataSource>
          <Item Id="actions" Title="Total"/>
          <Item Id="unique_actions" Title="Unique"/>
        </DataSource>
      </Radio>
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.CampaignId)/insights?
			fields=@(Model.Unique)
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="$..@(Model.Unique).*">
        <JsonPath Expr="action_type" Id="Type" Title="Type" Converter="String" HelpText=""/>			
        <JsonPath Expr="value" Id="Actions" Title="Actions" Converter="Int" HelpText=""/>
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="AdsetActionTypes" Title="Adset Actions Breakdown" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="AdsetId" Title="Adset Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461711469" Select.Connector="ListAdsetsHidden" Select.IdField="AdsetId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>
      <Radio Id="Unique" Title="Action Type" DefaultValue="actions" Required="true">
        <DataSource>
          <Item Id="actions" Title="Total"/>
          <Item Id="unique_actions" Title="Unique"/>
        </DataSource>
      </Radio>
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.AdsetId)/insights?
			fields=@(Model.Unique)
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="$..@(Model.Unique).*">
        <JsonPath Expr="action_type" Id="Type" Title="Type" Converter="String" HelpText=""/>			
        <JsonPath Expr="value" Id="Actions" Title="Actions" Converter="Int" HelpText=""/>
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RestConnector Id="AdActionTypes" Title="Ad Actions Breakdown" Hidden="false">
    <Parameters>
      <Text Id="AccountId" Title="Account Id" DefaultValue="" Required="true" Debug.DefaultValue="50872578" Select.Connector="ListAccounts" Select.IdField="AccountId" Select.TitleField="Name"/>
			<Text Id="AdId" Title="Ad Id" DefaultValue="" Required="true" Debug.DefaultValue="6018461711469" Select.Connector="ListAdsHidden" Select.IdField="AdId" Select.TitleField="Name"/>
      <Select Id="TimeInterval" Title="Time Interval" Required="true" DefaultValue="lifetime">
        <DataSource>
          <Resource Id="TimeIntervals"/>
        </DataSource>
      </Select>
      <Radio Id="Unique" Title="Action Type" DefaultValue="actions" Required="true">
        <DataSource>
          <Item Id="actions" Title="Total"/>
          <Item Id="unique_actions" Title="Unique"/>
        </DataSource>
      </Radio>
			</Parameters>	
    <Fetch>
      <Fetch.Url>
        <![CDATA[
		  https://graph.facebook.com/v2.8/@(Model.AdId)/insights?
			fields=@(Model.Unique)
			&date_preset=@(Model.TimeInterval)
		  &access_token=@(Model.AccessToken)
      ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="$..@(Model.Unique).*">
        <JsonPath Expr="action_type" Id="Type" Title="Type" Converter="String" HelpText=""/>			
        <JsonPath Expr="value" Id="Actions" Title="Actions" Converter="Int" HelpText=""/>
      </JsonPath>
    </Parse>
    <Fail>
      <JsonPath Expr="$.error.message"/> 
    </Fail>
  </RestConnector>

  <RazorFunctions>
    <![CDATA[
      string SelectedFields() {
        string[] fields = ((string)Model.Fields).Split(',').Select(e => e.Trim().ToLower()).ToArray();
        return string.Join(",",((ResultField[])Model.Headers).Where(e => fields.Contains(e.Identifier.ToLower())).Select(e => e.Tag).ToArray());
      }
    ]]>
  </RazorFunctions>

</Suite>