<?xml version="1.0" encoding="utf-8" ?>
<Suite Category="Webmaster" Title="DigitalOcean" Id="DigitalOcean" RequireVersion="7.0" SourceUrl="https://github.com/nielsbosma/SeoTools-for-Excel-Connectors/blob/master/DigitalOcean.xml" HelpUrl="http://seotoolsforexcel.com/digitalocean/">

  <Author Name="Dovydas Meilunas" Url="https://github.com/dovydasm"/>


  <DefaultOAuthAuthenticator StayAuthenticated="true" TokenName="code" AuthUrl="https://cloud.digitalocean.com/v1/oauth/authorize?client_id=6cda8db8bb9774f9fc0d2654d375cdac40f78af6bd1845849d07b671ef81e870&amp;redirect_uri={0}&amp;response_type=code"/>

  <Resources>
    <Resource Id="Header">
      <HttpSettings>
      <RequestHeaders>
        <Header Name="Authorization">Bearer @(Model.Authenticator.Token)</Header>
        <RequestContentType>application/json</RequestContentType>
      </RequestHeaders>
    </HttpSettings>
    </Resource>
  </Resources>

  <RestConnector Id="Actions" Title="Account Actions" HelpUrl="https://developers.digitalocean.com/documentation/v2/#actions" HelpText="List all of the actions that have been executed on the current account">
    <Fetch>
      <Resource Id="Header"/>
      <Fetch.Url>
        <![CDATA[
        https://api.digitalocean.com/v2/actions
        ]]>
      </Fetch.Url>
    </Fetch>
    <Parse>
      <JsonPath Expr="$.actions.*">
        <JsonPath Expr="id" Id="Id" Title="Id" Converter="Int" HelpText="A unique numeric ID that can be used to identify and reference an action."/>
        <JsonPath Expr="status" Id="Status" Title="Status" Converter="String" HelpText="The current status of the action. in-progress/completed/errored/"/>
        <JsonPath Expr="type" Id="Type" Title="Type" Converter="String" HelpText="This is the type of action that the object represents. For example, this could be 'transfer' to represent the state of an image transfer action."/>
        <JsonPath Expr="started_at" Id="StartedAt" Title="Started" Converter="String" HelpText="A time value given in ISO8601 combined date and time format that represents when the action was initiated."/>
        <JsonPath Expr="completed_at" Id="CompletedAt" Title="Completed" Converter="String" HelpText="A time value given in ISO8601 combined date and time format that represents when the action was completed."/>
        <JsonPath Expr="resource_id" Id="ResourceId" Title="Resource Id" Converter="Int" HelpText="A unique identifier for the resource that the action is associated with."/>
        <JsonPath Expr="resource_type" Id="ResourceType" Title="Resource Type" Converter="String" HelpText="The type of resource that the action is associated with."/>
        <JsonPath Expr="region_slug" Id="RegionSlug" Title="Region Slug" Converter="String" HelpText="A slug representing the region where the action occurred."/>
      </JsonPath>
    </Parse>
  </RestConnector>
</Suite>